<div class="container">
    <h2>S'inscrire</h2>
    <form [formGroup]="registerForm" (ngSubmit)="submitForm()">
        <div class="form-group">
            <label for="name">Nom</label>
            <input type="text" class="form-control" id="name" formControlName="name" />
            <div
                *ngIf="registerForm.controls['name'].invalid && (registerForm.controls['name'].dirty || registerForm.controls['name'].touched)">
                <small class="text-danger" *ngIf="registerForm.controls['name'].errors?.['required']">
                    Ce champ est requis
                </small>
            </div>
        </div>

        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" class="form-control" id="email" formControlName="email" />
            <div
                *ngIf="registerForm.controls['email'].invalid && (registerForm.controls['email'].dirty || registerForm.controls['email'].touched)">
                <small class="text-danger" *ngIf="registerForm.controls['email'].errors?.['required']">
                    Ce champ est requis
                </small>
                <small class="text-danger" *ngIf="registerForm.controls['email'].errors?.['email']">
                    Veuillez entrer une adresse email valide
                </small>
            </div>
        </div>

        <div class="form-group">
            <label for="password">Mot de passe</label>
            <input type="password" class="form-control" id="password" formControlName="password" />
            <div
                *ngIf="registerForm.controls['password'].invalid && (registerForm.controls['password'].dirty || registerForm.controls['password'].touched)">
                <small class="text-danger" *ngIf="registerForm.controls['password'].errors?.['required']">
                    Ce champ est requis
                </small>
                <small class="text-danger" *ngIf="registerForm.controls['password'].errors?.['minlength']">
                    Le mot de passe doit comporter au moins 8 caractères
                </small>
                <small class="text-danger" *ngIf="registerForm.controls['password'].errors?.['maxlength']">
                    Le mot de passe doit comporter au maximum 20 caractères
                </small>
            </div>
        </div>

        <div class="form-group">
            <label for="confirmPassword">Confirmé le Mot de passe</label>
            <input type="password" class="form-control" id="confirmPassword" formControlName="confirmPassword" />
            <div
                *ngIf="registerForm.controls['confirmPassword'].invalid && (registerForm.controls['confirmPassword'].dirty || registerForm.controls['confirmPassword'].touched)">
                <small class="text-danger" *ngIf="registerForm.controls['confirmPassword'].errors?.['required']">
                    Ce champ est ressssquis
                </small>
                <small class="text-danger"
                    *ngIf="registerForm.controls['confirmPassword'].errors?.['passwordMismatch']">
                    Les mots de passe ne correspondent pas
                </small>
            </div>
        </div>

        <div *ngIf="errorMessage" class="error-message text-danger">{{ errorMessage }}</div>
        <button type="submit" class="btn btn-primary" [disabled]="registerForm.invalid">S'inscrire</button>
    </form>
</div>